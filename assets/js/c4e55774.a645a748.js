"use strict";(self.webpackChunkchildsafenet_docs=self.webpackChunkchildsafenet_docs||[]).push([[745],{7257(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"extension","title":"Browser Extension","description":"The ChildSafeNet browser extension enforces real-time URL protection by","source":"@site/docs/extension.md","sourceDirName":".","slug":"/extension","permalink":"/Childsafenet/docs/extension","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenTriBaoThang/Childsafenet/edit/main/docs-site/docs/extension.md","tags":[],"version":"current","frontMatter":{"title":"Browser Extension"},"sidebar":"docsSidebar","previous":{"title":"Admin Guide","permalink":"/Childsafenet/docs/user-guide-admin"},"next":{"title":"AI Training Option Periodic","permalink":"/Childsafenet/docs/ai-training-option-b"}}');var r=i(4848),o=i(8453);const l={title:"Browser Extension"},t="\ud83e\udde9 Browser Extension (Manifest V3)",d={},c=[{value:"Step 1",id:"step-1",level:2},{value:"Step 2",id:"step-2",level:2},{value:"Step 3",id:"step-3",level:2},{value:"Step 4",id:"step-4",level:2},{value:"Flow Overview",id:"flow-overview",level:2},{value:"NOT READY",id:"not-ready",level:2},{value:"Pair failed / Port closed",id:"pair-failed--port-closed",level:2},{value:"No logs appear in dashboard",id:"no-logs-appear-in-dashboard",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"-browser-extension-manifest-v3",children:"\ud83e\udde9 Browser Extension (Manifest V3)"})}),"\n",(0,r.jsx)(n.p,{children:"The ChildSafeNet browser extension enforces real-time URL protection by\ncommunicating with the backend API and applying blocking decisions based\non Parent settings and AI predictions."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-supported-browsers",children:"\ud83c\udf0d Supported Browsers"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Google Chrome (Chromium-based)"}),"\n",(0,r.jsx)(n.li,{children:"Microsoft Edge (Chromium-based)"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The extension uses ",(0,r.jsx)(n.strong,{children:"Manifest V3 (MV3)"})," architecture with a background\nservice worker."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-installation-developer-mode",children:"\u2699 Installation (Developer Mode)"}),"\n",(0,r.jsx)(n.h2,{id:"step-1",children:"Step 1"}),"\n",(0,r.jsxs)(n.p,{children:["Open: - Chrome \u2192 ",(0,r.jsx)(n.code,{children:"chrome://extensions"})," - Edge \u2192 ",(0,r.jsx)(n.code,{children:"edge://extensions"})]}),"\n",(0,r.jsx)(n.h2,{id:"step-2",children:"Step 2"}),"\n",(0,r.jsxs)(n.p,{children:["Enable ",(0,r.jsx)(n.strong,{children:"Developer mode"})," (top-right toggle)"]}),"\n",(0,r.jsx)(n.h2,{id:"step-3",children:"Step 3"}),"\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Load unpacked"})]}),"\n",(0,r.jsx)(n.h2,{id:"step-4",children:"Step 4"}),"\n",(0,r.jsx)(n.p,{children:"Select the project folder:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"chrome-extension/"})}),"\n",(0,r.jsx)(n.p,{children:"After installation, ensure: - Extension is enabled - No errors appear in\nextension card"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-pairing-flow",children:"\ud83d\udd17 Pairing Flow"}),"\n",(0,r.jsx)(n.p,{children:"The extension must be paired with the Web Dashboard before protection is\nactive."}),"\n",(0,r.jsx)(n.h2,{id:"flow-overview",children:"Flow Overview"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Web Dashboard generates pairing token"}),"\n",(0,r.jsxs)(n.li,{children:["Dashboard sends token to extension via: ",(0,r.jsx)(n.code,{children:"window.postMessage"})]}),"\n",(0,r.jsx)(n.li,{children:"Content script listens and forwards token to background service\nworker"}),"\n",(0,r.jsxs)(n.li,{children:["Background stores token in: ",(0,r.jsx)(n.code,{children:"chrome.storage.local"})]}),"\n",(0,r.jsxs)(n.li,{children:["Extension responds with: ",(0,r.jsx)(n.code,{children:"CSN_PAIR_RESULT"})]}),"\n",(0,r.jsx)(n.li,{children:"Dashboard updates status (Paired / Failed)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-storage",children:"\ud83d\udd10 Storage"}),"\n",(0,r.jsx)(n.p,{children:"The extension stores:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Pairing token"}),"\n",(0,r.jsx)(n.li,{children:"Mode sync state"}),"\n",(0,r.jsx)(n.li,{children:"API base URL (if configurable)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Stored in:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"chrome.storage.local"})}),"\n",(0,r.jsx)(n.p,{children:"No sensitive data should be stored in plaintext beyond necessary tokens."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-scan-flow-runtime",children:"\ud83d\udee1 Scan Flow (Runtime)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"User navigates to a new URL"}),"\n",(0,r.jsx)(n.li,{children:"Extension captures tab update event"}),"\n",(0,r.jsxs)(n.li,{children:["Background sends request to ",(0,r.jsx)(n.code,{children:"/api/scan"})]}),"\n",(0,r.jsx)(n.li,{children:"API returns decision"}),"\n",(0,r.jsxs)(n.li,{children:["If decision = BLOCK:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Extension redirects to ",(0,r.jsx)(n.code,{children:"block.html"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["If decision = ALLOW:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Page loads normally"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Scan result logged on backend"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The extension does not decide independently --- the API is\nauthoritative."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-enable--disable-protection",children:"\ud83d\udd04 Enable / Disable Protection"}),"\n",(0,r.jsx)(n.p,{children:"You can toggle protection:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"From Web Dashboard (recommended)"}),"\n",(0,r.jsx)(n.li,{children:"From Extension popup (if implemented)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"When disabled: - Extension may still log URLs (optional) - Blocking is\nskipped"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-common-issues--troubleshooting",children:"\u2757 Common Issues & Troubleshooting"}),"\n",(0,r.jsx)(n.h2,{id:"not-ready",children:"NOT READY"}),"\n",(0,r.jsx)(n.p,{children:"Meaning: Content script not injected."}),"\n",(0,r.jsxs)(n.p,{children:["Fix: - Check ",(0,r.jsx)(n.code,{children:"host_permissions"})," in ",(0,r.jsx)(n.code,{children:"manifest.json"})," - Reload extension -\nReload page"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"pair-failed--port-closed",children:"Pair failed / Port closed"}),"\n",(0,r.jsx)(n.p,{children:"Possible causes: - Background service worker stopped - API unreachable -\nToken expired - Runtime error"}),"\n",(0,r.jsxs)(n.p,{children:["Fix: 1. Open extension details 2. Click ",(0,r.jsx)(n.strong,{children:"Service Worker"})," 3. Open\nconsole and inspect logs 4. Verify API URL and CORS configuration"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"no-logs-appear-in-dashboard",children:"No logs appear in dashboard"}),"\n",(0,r.jsx)(n.p,{children:"Check: - JWT token valid - Pairing successful - Correct user account -\nAPI reachable"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-security-notes",children:"\ud83e\udde0 Security Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use HTTPS in production"}),"\n",(0,r.jsx)(n.li,{children:"Do not expose API keys in extension"}),"\n",(0,r.jsx)(n.li,{children:"Validate all responses server-side"}),"\n",(0,r.jsx)(n.li,{children:"Limit CORS origins"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-manifest-v3-key-components",children:"\ud83d\udce6 Manifest V3 Key Components"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"manifest.json"}),"\n",(0,r.jsx)(n.li,{children:"background.js (service worker)"}),"\n",(0,r.jsx)(n.li,{children:"content.js"}),"\n",(0,r.jsx)(n.li,{children:"popup.html / popup.js (optional)"}),"\n",(0,r.jsx)(n.li,{children:"block.html"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-best-practices",children:"\ud83c\udfaf Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Keep service worker lightweight"}),"\n",(0,r.jsx)(n.li,{children:"Avoid long-running blocking tasks"}),"\n",(0,r.jsx)(n.li,{children:"Handle network errors gracefully"}),"\n",(0,r.jsx)(n.li,{children:"Implement retry logic if needed"}),"\n",(0,r.jsx)(n.li,{children:"Provide clear UX for blocked pages"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"-related-documentation",children:"\ud83d\udd17 Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Getting Started"}),"\n",(0,r.jsx)(n.li,{children:"API Reference"}),"\n",(0,r.jsx)(n.li,{children:"System Architecture"}),"\n",(0,r.jsx)(n.li,{children:"Security"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>t});var s=i(6540);const r={},o=s.createContext(r);function l(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);