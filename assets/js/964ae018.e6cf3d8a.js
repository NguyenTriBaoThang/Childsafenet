"use strict";(self.webpackChunkchildsafenet_docs=self.webpackChunkchildsafenet_docs||[]).push([[824],{3588(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api-reference","title":"API Reference","description":"RESTful API for authentication, parent settings, URL scanning, logging,","source":"@site/docs/api-reference.md","sourceDirName":".","slug":"/api-reference","permalink":"/Childsafenet/docs/api-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/NguyenTriBaoThang/Childsafenet/edit/main/docs-site/docs/api-reference.md","tags":[],"version":"current","frontMatter":{"title":"API Reference"},"sidebar":"docsSidebar","previous":{"title":"ML Evaluation Metrics","permalink":"/Childsafenet/docs/ml-evaluation-metrics"},"next":{"title":"Product Backlog","permalink":"/Childsafenet/docs/backlog"}}');var t=s(4848),d=s(8453);const r={title:"API Reference"},l="\ud83e\udde0 API Reference",a={},c=[{value:"POST <code>/api/auth/register</code>",id:"post-apiauthregister",level:2},{value:"Request Body",id:"request-body",level:3},{value:"Response",id:"response",level:3},{value:"POST <code>/api/auth/login</code>",id:"post-apiauthlogin",level:2},{value:"Request Body",id:"request-body-1",level:3},{value:"Response",id:"response-1",level:3},{value:"GET <code>/api/settings</code>",id:"get-apisettings",level:2},{value:"Response",id:"response-2",level:3},{value:"PUT <code>/api/settings</code>",id:"put-apisettings",level:2},{value:"Request Body",id:"request-body-2",level:3},{value:"POST <code>/api/scan</code>",id:"post-apiscan",level:2},{value:"Request Body",id:"request-body-3",level:3},{value:"Response",id:"response-3",level:3},{value:"GET <code>/api/logs?page=1&amp;pageSize=10</code>",id:"get-apilogspage1pagesize10",level:2},{value:"Response",id:"response-4",level:3},{value:"Dataset Review",id:"dataset-review",level:2},{value:"GET <code>/api/dataset?status=Pending|Approved|Rejected</code>",id:"get-apidatasetstatuspendingapprovedrejected",level:3},{value:"POST <code>/api/dataset/{id}/approve</code>",id:"post-apidatasetidapprove",level:3},{value:"POST <code>/api/dataset/{id}/reject</code>",id:"post-apidatasetidreject",level:3},{value:"GET <code>/api/dataset/export?status=Approved</code>",id:"get-apidatasetexportstatusapproved",level:3},{value:"POST <code>/api/train/trigger</code>",id:"post-apitraintrigger",level:2},{value:"Response",id:"response-5",level:3},{value:"GET <code>/api/train/jobs</code>",id:"get-apitrainjobs",level:2},{value:"Response",id:"response-6",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"-api-reference",children:"\ud83e\udde0 API Reference"})}),"\n",(0,t.jsx)(n.p,{children:"RESTful API for authentication, parent settings, URL scanning, logging,\ndataset review, and periodic model training."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-authentication",children:"\ud83d\udd10 Authentication"}),"\n",(0,t.jsxs)(n.h2,{id:"post-apiauthregister",children:["POST ",(0,t.jsx)(n.code,{children:"/api/auth/register"})]}),"\n",(0,t.jsx)(n.p,{children:"Register a new user (Parent by default)."}),"\n",(0,t.jsx)(n.h3,{id:"request-body",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "email": "parent@example.com",\n  "password": "StrongPassword123!",\n  "fullName": "John Doe"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "id": 12,\n  "email": "parent@example.com",\n  "role": "Parent"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Status Codes"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"201 Created"}),"\n",(0,t.jsx)(n.li,{children:"400 Bad Request"}),"\n",(0,t.jsx)(n.li,{children:"409 Conflict"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"post-apiauthlogin",children:["POST ",(0,t.jsx)(n.code,{children:"/api/auth/login"})]}),"\n",(0,t.jsx)(n.p,{children:"Authenticate user and return JWT token."}),"\n",(0,t.jsx)(n.h3,{id:"request-body-1",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "email": "parent@example.com",\n  "password": "StrongPassword123!"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\n  "expiresIn": 3600,\n  "role": "Parent"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Status Codes"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"200 OK"}),"\n",(0,t.jsx)(n.li,{children:"401 Unauthorized"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"All protected endpoints require the HTTP header below:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"Authorization: Bearer YOUR_JWT_TOKEN\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-parent-endpoints",children:"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67 Parent Endpoints"}),"\n",(0,t.jsxs)(n.h2,{id:"get-apisettings",children:["GET ",(0,t.jsx)(n.code,{children:"/api/settings"})]}),"\n",(0,t.jsx)(n.p,{children:"Retrieve parent protection settings."}),"\n",(0,t.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "mode": "Balanced",\n  "whitelist": ["google.com"],\n  "blacklist": ["example-bad.com"],\n  "isProtectionEnabled": true\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"put-apisettings",children:["PUT ",(0,t.jsx)(n.code,{children:"/api/settings"})]}),"\n",(0,t.jsx)(n.p,{children:"Update protection settings."}),"\n",(0,t.jsx)(n.h3,{id:"request-body-2",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "mode": "Strict",\n  "whitelist": ["school.edu"],\n  "blacklist": [],\n  "isProtectionEnabled": true\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-scan-endpoint",children:"\ud83d\udd0d Scan Endpoint"}),"\n",(0,t.jsxs)(n.h2,{id:"post-apiscan",children:["POST ",(0,t.jsx)(n.code,{children:"/api/scan"})]}),"\n",(0,t.jsx)(n.p,{children:"Used by Web Dashboard or Extension to evaluate a URL."}),"\n",(0,t.jsx)(n.h3,{id:"request-body-3",children:"Request Body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "url": "http://suspicious-site.com",\n  "source": "Extension"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "label": "Phishing",\n  "score": 0.92,\n  "decision": "Block",\n  "explanation": {\n    "topFeatures": ["contains-ip", "long-url", "suspicious-tld"]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-logs",children:"\ud83d\udcdc Logs"}),"\n",(0,t.jsxs)(n.h2,{id:"get-apilogspage1pagesize10",children:["GET ",(0,t.jsx)(n.code,{children:"/api/logs?page=1&pageSize=10"})]}),"\n",(0,t.jsx)(n.p,{children:"Retrieve paginated browsing logs."}),"\n",(0,t.jsx)(n.h3,{id:"response-4",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "total": 125,\n  "page": 1,\n  "pageSize": 10,\n  "data": [\n    {\n      "url": "example.com",\n      "label": "Benign",\n      "decision": "Allow",\n      "score": 0.12,\n      "timestamp": "2026-02-26T10:12:00Z"\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-admin-endpoints-role-admin",children:"\ud83d\udc51 Admin Endpoints (Role: Admin)"}),"\n",(0,t.jsx)(n.h2,{id:"dataset-review",children:"Dataset Review"}),"\n",(0,t.jsxs)(n.h3,{id:"get-apidatasetstatuspendingapprovedrejected",children:["GET ",(0,t.jsx)(n.code,{children:"/api/dataset?status=Pending|Approved|Rejected"})]}),"\n",(0,t.jsx)(n.p,{children:"Retrieve dataset entries by status."}),"\n",(0,t.jsxs)(n.h3,{id:"post-apidatasetidapprove",children:["POST ",(0,t.jsx)(n.code,{children:"/api/dataset/{id}/approve"})]}),"\n",(0,t.jsxs)(n.h3,{id:"post-apidatasetidreject",children:["POST ",(0,t.jsx)(n.code,{children:"/api/dataset/{id}/reject"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h3,{id:"get-apidatasetexportstatusapproved",children:["GET ",(0,t.jsx)(n.code,{children:"/api/dataset/export?status=Approved"})]}),"\n",(0,t.jsx)(n.p,{children:"Export dataset to CSV."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-training-periodic",children:"\ud83e\udde0 Training (Periodic)"}),"\n",(0,t.jsxs)(n.h2,{id:"post-apitraintrigger",children:["POST ",(0,t.jsx)(n.code,{children:"/api/train/trigger"})]}),"\n",(0,t.jsx)(n.p,{children:"Trigger periodic training job."}),"\n",(0,t.jsx)(n.h3,{id:"response-5",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "jobId": "train_20260226_01",\n  "status": "Running"\n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"get-apitrainjobs",children:["GET ",(0,t.jsx)(n.code,{children:"/api/train/jobs"})]}),"\n",(0,t.jsx)(n.p,{children:"List training jobs history."}),"\n",(0,t.jsx)(n.h3,{id:"response-6",children:"Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "jobId": "train_20260226_01",\n    "status": "Completed",\n    "startedAt": "2026-02-26T10:00:00Z",\n    "completedAt": "2026-02-26T10:05:00Z",\n    "metrics": {\n      "accuracy": 0.94,\n      "precision": 0.91,\n      "recall": 0.89,\n      "f1": 0.90\n    }\n  }\n]\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-role-based-access",children:"\ud83d\udd10 Role-Based Access"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Endpoint Group"}),(0,t.jsx)(n.th,{style:{textAlign:"right"},children:"Parent"}),(0,t.jsx)(n.th,{style:{textAlign:"right"},children:"Admin"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Auth"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Settings"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Scan"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Logs"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"No"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Dataset"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"No"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Training"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"No"}),(0,t.jsx)(n.td,{style:{textAlign:"right"},children:"Yes"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h1,{id:"-standard-http-status-codes",children:"\ud83d\udea6 Standard HTTP Status Codes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"200 OK"}),"\n",(0,t.jsx)(n.li,{children:"201 Created"}),"\n",(0,t.jsx)(n.li,{children:"400 Bad Request"}),"\n",(0,t.jsx)(n.li,{children:"401 Unauthorized"}),"\n",(0,t.jsx)(n.li,{children:"403 Forbidden"}),"\n",(0,t.jsx)(n.li,{children:"404 Not Found"}),"\n",(0,t.jsx)(n.li,{children:"409 Conflict"}),"\n",(0,t.jsx)(n.li,{children:"500 Internal Server Error"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:"Related Docs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/getting-started"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/architecture"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/ai-training-option-b"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/security"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const t={},d=i.createContext(t);function r(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);